"use strict";(self.webpackChunkdhenara_docs=self.webpackChunkdhenara_docs||[]).push([[9887],{1188:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"dhenara-agent/cli/commands","title":"CLI Commands","description":"Introduction","source":"@site/docs/dhenara-agent/cli/commands.md","sourceDirName":"dhenara-agent/cli","slug":"/dhenara-agent/cli/commands","permalink":"/dhenara-agent/cli/commands","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"CLI Commands"},"sidebar":"dhenaraAgentSidebar","previous":{"title":"CLI Overview","permalink":"/dhenara-agent/cli/overview"},"next":{"title":"Extending the CLI","permalink":"/dhenara-agent/cli/extending"}}');var o=t(4848),s=t(8453);const i={title:"CLI Commands"},c="CLI Commands",d={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Command Categories",id:"command-categories",level:2},{value:"Project Commands",id:"project-commands",level:2},{value:"<code>startproject</code>",id:"startproject",level:3},{value:"Agent Commands",id:"agent-commands",level:2},{value:"<code>agent create</code>",id:"agent-create",level:3},{value:"<code>agent run</code>",id:"agent-run",level:3},{value:"Output Commands",id:"output-commands",level:2},{value:"<code>outputs list</code>",id:"outputs-list",level:3},{value:"<code>outputs compare</code>",id:"outputs-compare",level:3},{value:"<code>outputs checkout</code>",id:"outputs-checkout",level:3},{value:"Implementation Commands",id:"implementation-commands",level:2},{value:"<code>run agent implementation</code>",id:"run-agent-implementation",level:3},{value:"Run Artifacts Structure",id:"run-artifacts-structure",level:2},{value:"Command Implementation Examples",id:"command-implementation-examples",level:2},{value:"Getting Help",id:"getting-help",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"cli-commands",children:"CLI Commands"})}),"\n",(0,o.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsx)(n.p,{children:"This document provides a comprehensive reference for the Dhenara Agent DSL CLI commands, including their options,\narguments, and usage examples. The DAD CLI offers a wide range of commands for working with agents, from project\ncreation to execution and monitoring."}),"\n",(0,o.jsx)(n.h2,{id:"command-categories",children:"Command Categories"}),"\n",(0,o.jsx)(n.p,{children:"DAD CLI commands are organized into several categories:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Project Commands"}),": For creating and managing projects"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Agent Commands"}),": For creating and running agents"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Output Commands"}),": For managing execution outputs"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Observability Commands"}),": For monitoring and debugging"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Deployment Commands"}),": For deploying agents to different environments"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"project-commands",children:"Project Commands"}),"\n",(0,o.jsx)(n.h3,{id:"startproject",children:(0,o.jsx)(n.code,{children:"startproject"})}),"\n",(0,o.jsx)(n.p,{children:"Creates a new DAD project with the necessary directory structure and configuration files."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad startproject [OPTIONS] PROJECT_NAME\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Arguments:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"PROJECT_NAME"}),": Name of the project to create"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--directory, -d TEXT"}),": Directory where the project should be created (default: current directory)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--template TEXT"}),": Template to use for the project (default: standard)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad startproject my-agent-project --directory ~/projects\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Output:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Initializing Git.\n\u2705 Project 'my-agent-project' created successfully!\n  - Project identifier: my-agent-project\n  - Location: ~/projects/my-agent-project\n\nNext steps:\n  1. cd my-agent-project\n  2. dad agent create <agent_name>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"agent-commands",children:"Agent Commands"}),"\n",(0,o.jsx)(n.h3,{id:"agent-create",children:(0,o.jsx)(n.code,{children:"agent create"})}),"\n",(0,o.jsx)(n.p,{children:"Creates a new agent within an existing DAD project."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad agent create [OPTIONS] IDENTIFIER [NAME]\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Arguments:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"IDENTIFIER"}),": Unique identifier for the agent (used in code)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"NAME"}),": Human-readable name for the agent (optional)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--template TEXT"}),": Template to use for the agent (default: standard)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--project-root TEXT"}),": Root directory of the project (default: auto-detected)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'dad agent create autocoder "Code Generation Assistant"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Output:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\u2705 Agent 'autocoder' created successfully!\n  - Identifier: autocoder\n  - Location: /path/to/project/src/agents/autocoder\n  - Command to run: dad agent run autocoder\n"})}),"\n",(0,o.jsx)(n.h3,{id:"agent-run",children:(0,o.jsx)(n.code,{children:"agent run"})}),"\n",(0,o.jsx)(n.p,{children:"Executes an agent in an isolated environment."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad agent run [OPTIONS] IDENTIFIER\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Arguments:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"IDENTIFIER"}),": Identifier of the agent to run"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--project-root TEXT"}),": Root directory of the project (default: auto-detected)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--previous-run-id TEXT"}),": ID of a previous run to use as a base for resuming execution"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--entry-point TEXT"}),": Specific point in the execution graph to begin from. Format can be a single element ID or a\ndot-notation path (e.g., 'agent_id.flow_id.node_id')"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad agent run autocoder\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"With Resumption:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad agent run autocoder --previous-run-id run_20240515_121100_f36578 --entry-point main_flow.code_generator\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Output:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\u2713 Node dynamic_repo_analysis execution completed\n\u2713 Node code_generator execution completed\n\u2713 Node code_generator_file_ops execution completed\n\u2713 main_flow execution completed\n\u2713 autocoder_root execution completed\nAgent standard run completed successfully. Run ID: run_20240515_233729_f3cd51\n\n\u2705 RUN COMPLETED SUCCESSFULLY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  Run ID: run_20240515_233729_f3cd51\n  Artifacts location: /path/to/project/runs/run_20240515_233729_f3cd51\n\nLogs in /path/to/project/runs/run_20240515_233729_f3cd51/.trace/logs.jsonl\n"})}),"\n",(0,o.jsx)(n.h2,{id:"output-commands",children:"Output Commands"}),"\n",(0,o.jsx)(n.h3,{id:"outputs-list",children:(0,o.jsx)(n.code,{children:"outputs list"})}),"\n",(0,o.jsx)(n.p,{children:"Lists all available run outputs for a project."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dhenara outputs list [OPTIONS]\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--project-root TEXT"}),": Root directory of the project (default: auto-detected)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--agent-id TEXT"}),": Filter outputs by agent ID"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--limit INTEGER"}),": Maximum number of outputs to list (default: 10)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dhenara outputs list --agent-id autocoder --limit 5\n"})}),"\n",(0,o.jsx)(n.h3,{id:"outputs-compare",children:(0,o.jsx)(n.code,{children:"outputs compare"})}),"\n",(0,o.jsx)(n.p,{children:"Compares outputs from different runs."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dhenara outputs compare [OPTIONS] RUN_ID_1 RUN_ID_2\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Arguments:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"RUN_ID_1"}),": ID of the first run to compare"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"RUN_ID_2"}),": ID of the second run to compare"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--project-root TEXT"}),": Root directory of the project (default: auto-detected)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--output-format [text|html|json]"}),": Format for comparison output (default: text)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dhenara outputs compare run_20240515_121100_f36578 run_20240515_233729_f3cd51 --output-format html\n"})}),"\n",(0,o.jsx)(n.h3,{id:"outputs-checkout",children:(0,o.jsx)(n.code,{children:"outputs checkout"})}),"\n",(0,o.jsx)(n.p,{children:"Checks out a specific run output, allowing for inspection or reuse."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dhenara outputs checkout [OPTIONS] RUN_ID\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Arguments:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"RUN_ID"}),": ID of the run to checkout"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--project-root TEXT"}),": Root directory of the project (default: auto-detected)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--output-dir TEXT"}),": Directory to checkout the output to (default: ./run_output)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dhenara outputs checkout run_20240515_233729_f3cd51 --output-dir ./analysis\n"})}),"\n",(0,o.jsx)(n.h2,{id:"implementation-commands",children:"Implementation Commands"}),"\n",(0,o.jsx)(n.h3,{id:"run-agent-implementation",children:(0,o.jsx)(n.code,{children:"run agent implementation"})}),"\n",(0,o.jsx)(n.p,{children:"Runs a specialized implementation flow for code generation and changes."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad agent run implementation [OPTIONS] TASK_FILE\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Arguments:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"TASK_FILE"}),": Path to a file containing the task description"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--project-root TEXT"}),": Root directory of the project (default: auto-detected)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--model TEXT"}),": AI model to use for implementation (default: claude-3-7-sonnet)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--no-commit"}),": Don't commit changes to version control"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad agent run implementation tasks/feature-123.md --model gpt-4.1\n"})}),"\n",(0,o.jsx)(n.h2,{id:"run-artifacts-structure",children:"Run Artifacts Structure"}),"\n",(0,o.jsx)(n.p,{children:"When you run an agent, DAD generates a structured directory of artifacts for each run. Understanding this structure is\nimportant for debugging and for resuming runs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"runs/run_20240515_233729_f3cd51/\n\u251c\u2500\u2500 .trace/\n\u2502   \u251c\u2500\u2500 dad_metadata.json\n\u2502   \u251c\u2500\u2500 logs.jsonl\n\u2502   \u251c\u2500\u2500 metrics.jsonl\n\u2502   \u2514\u2500\u2500 trace.jsonl\n\u251c\u2500\u2500 autocoder_root/\n\u2502   \u2514\u2500\u2500 main_flow/\n\u2502       \u251c\u2500\u2500 code_generator/\n\u2502       \u2502   \u251c\u2500\u2500 outcome.json   # Node-specific outcome\n\u2502       \u2502   \u251c\u2500\u2500 result.json    # Complete execution result\n\u2502       \u2502   \u2514\u2500\u2500 state.json     # For AIModelNode, contains API call parameters\n\u2502       \u251c\u2500\u2500 code_generator_file_ops/\n\u2502       \u2502   \u251c\u2500\u2500 outcome.json\n\u2502       \u2502   \u2514\u2500\u2500 result.json\n\u2502       \u2514\u2500\u2500 dynamic_repo_analysis/\n\u2502           \u251c\u2500\u2500 outcome.json\n\u2502           \u2514\u2500\u2500 result.json\n\u2514\u2500\u2500 static_inputs/\n"})}),"\n",(0,o.jsx)(n.p,{children:"Each node's artifacts contain:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"result.json"}),": The complete execution result including input, output, and outcome"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"outcome.json"}),": Just the outcome field, extracted for convenience"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"state.json"}),": (For AIModelNode only) Contains the actual LLM API call parameters"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["This structure enables precise resumption of execution from any node by using the ",(0,o.jsx)(n.code,{children:"--previous-run-id"})," and\n",(0,o.jsx)(n.code,{children:"--entry-point"})," options."]}),"\n",(0,o.jsx)(n.h2,{id:"command-implementation-examples",children:"Command Implementation Examples"}),"\n",(0,o.jsx)(n.p,{children:"Here's an example of how a command is implemented in the DAD CLI:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'@run.command("agent")\n@click.argument("identifier")\n@click.option("--project-root", default=None, help="Project repo root")\n@click.option(\n    "--previous-run-id",\n    default=None,\n    help="ID of a previous run to use as a base for this run",\n)\n@click.option(\n    "--entry-point",\n    default=None,\n    help="Specific point in the execution graph to begin from (e.g., \'agent_id.flow_id.node_id\')",\n)\ndef run_agent(identifier, project_root, previous_run_id, entry_point):\n    """Run an agent with the specified identifier."""\n    # Uses asyncio to run the async implementation\n    asyncio.run(\n        _run_agent(\n            identifier=identifier,\n            project_root=project_root,\n            previous_run_id=previous_run_id,\n            start_hierarchy_path=entry_point,\n        )\n    )\n'})}),"\n",(0,o.jsx)(n.p,{children:"The pattern typically includes:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Command declaration with Click decorators"}),"\n",(0,o.jsx)(n.li,{children:"Arguments and options with help text"}),"\n",(0,o.jsx)(n.li,{children:"Synchronous wrapper function that calls into async implementation"}),"\n",(0,o.jsx)(n.li,{children:"Detailed implementation in a separate async function"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,o.jsxs)(n.p,{children:["For any command, you can append ",(0,o.jsx)(n.code,{children:"--help"})," to see detailed information about its usage:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"dad agent run --help\n"})}),"\n",(0,o.jsx)(n.p,{children:"This will display all available options, arguments, and a brief description of what the command does."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var r=t(6540);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);