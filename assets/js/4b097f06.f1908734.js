"use strict";(self.webpackChunkdhenara_docs=self.webpackChunkdhenara_docs||[]).push([[2981],{582:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"dhenara-agent/cli/overview","title":"CLI Overview","description":"Introduction","source":"@site/docs/dhenara-agent/cli/overview.md","sourceDirName":"dhenara-agent/cli","slug":"/dhenara-agent/cli/overview","permalink":"/dhenara-agent/cli/overview","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"CLI Overview"},"sidebar":"dhenaraAgentSidebar","previous":{"title":"Command Line Interface","permalink":"/dhenara-agent/cli/"},"next":{"title":"CLI Commands","permalink":"/dhenara-agent/cli/commands"}}');var a=t(4848),r=t(8453);const s={title:"CLI Overview"},o="CLI Overview",l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Main Entry Point",id:"main-entry-point",level:3},{value:"Command Registration Pattern",id:"command-registration-pattern",level:3},{value:"Command Structure",id:"command-structure",level:2},{value:"Project Initialization",id:"project-initialization",level:3},{value:"Agent Management",id:"agent-management",level:3},{value:"Deployment",id:"deployment",level:3},{value:"Output Management",id:"output-management",level:3},{value:"Observability",id:"observability",level:3},{value:"Project Structure",id:"project-structure",level:2},{value:"Templates System",id:"templates-system",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"cli-overview",children:"CLI Overview"})}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(n.p,{children:"The Dhenara Agent DSL Command Line Interface (CLI) provides a robust and extensible system for interacting with DAD\nagents and projects. It offers an intuitive way to create, run, and manage agents through simple terminal commands."}),"\n",(0,a.jsx)(n.p,{children:"The CLI is designed with a focus on developer experience, offering rich features while maintaining simplicity and\ndiscoverability. It's an essential tool for developers working with Dhenara Agent DSL, streamlining common workflows and\nenabling efficient agent management."}),"\n",(0,a.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,a.jsxs)(n.p,{children:["The DAD CLI is built using ",(0,a.jsx)(n.a,{href:"https://click.palletsprojects.com/",children:"Click"}),", a Python package for creating beautiful command\nline interfaces. The architecture follows a modular design pattern with several key components:"]}),"\n",(0,a.jsx)(n.h3,{id:"main-entry-point",children:"Main Entry Point"}),"\n",(0,a.jsx)(n.p,{children:"The CLI system is initialized through a main entry point that dynamically discovers and loads command modules:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@click.group()\ndef cli():\n    """Dhenara Agent DSL (DAD) CLI."""\n    pass\n\n# Dynamically import all command modules\ndef load_commands():\n    commands_path = Path(__file__).parent / "commands"\n    observability_commands_path = Path(__file__).parent.parent / "agent" / "observability" / "cli"\n\n    # Load regular commands\n    for _, name, _is_pkg in pkgutil.iter_modules([str(commands_path)]):\n        if not name.startswith("_"):  # Skip private modules\n            module = importlib.import_module(f"dhenara.cli.commands.{name}")\n            if hasattr(module, "register"):\n                module.register(cli)\n\n    # Load observability commands\n    for _, name, _is_pkg in pkgutil.iter_modules([str(observability_commands_path)]):\n        if not name.startswith("_"):  # Skip private modules\n            module = importlib.import_module(f"dhenara.agent.observability.cli.{name}")\n            if hasattr(module, "register"):\n                module.register(cli)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"command-registration-pattern",children:"Command Registration Pattern"}),"\n",(0,a.jsxs)(n.p,{children:["Each command module implements a ",(0,a.jsx)(n.code,{children:"register"})," function that adds its commands to the main CLI group:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'def register(cli):\n    cli.add_command(my_command)\n\n@click.command("my-command")\n@click.argument("argument")\n@click.option("--option", help="Description of the option")\ndef my_command(argument, option):\n    """Command description that appears in the help text."""\n    # Command implementation\n'})}),"\n",(0,a.jsx)(n.p,{children:"This pattern allows for modular addition of new commands without modifying the core CLI code."}),"\n",(0,a.jsx)(n.h2,{id:"command-structure",children:"Command Structure"}),"\n",(0,a.jsx)(n.p,{children:"The DAD CLI organizes commands into logical groups based on functionality:"}),"\n",(0,a.jsx)(n.h3,{id:"project-initialization",children:"Project Initialization"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"startproject"}),": Creates a new DAD project with the necessary directory structure and configuration files"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"agent-management",children:"Agent Management"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"create agent"}),": Creates a new agent within an existing project"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"run agent"}),": Executes an agent in an isolated environment"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"deployment",children:"Deployment"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"deploy"}),": Deploys an agent or application to various environments (dev, staging, prod)"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"output-management",children:"Output Management"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"outputs list"}),": Lists all available run outputs"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"outputs compare"}),": Compares outputs from different runs"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"outputs checkout"}),": Checks out a specific run output"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"observability",children:"Observability"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Various commands for viewing and analyzing traces, logs, and metrics"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["For detailed information about available commands, their options, and usage examples, see the\n",(0,a.jsx)(n.a,{href:"/dhenara-agent/cli/commands",children:"Commands Reference"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,a.jsx)(n.p,{children:"The DAD CLI expects projects to follow a specific structure:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"project-name/\n\u251c\u2500 .dhenara/             # Dhenara configuration directory\n\u2502  \u251c\u2500 config.yaml        # Project configuration\n\u2502  \u2514\u2500 credentials/       # Credentials for AI models and services\n\u251c\u2500 src/                  # Source code directory\n\u2502  \u251c\u2500 agents/            # Agent definitions\n\u2502  \u2502  \u2514\u2500 my_agent/       # Individual agent directory\n\u2502  \u2502     \u251c\u2500 agent.py     # Main agent definition\n\u2502  \u2502     \u251c\u2500 flow.py      # Agent flow definitions\n\u2502  \u2502     \u2514\u2500 inputs/      # Agent input handlers\n\u2502  \u2502        \u2514\u2500 handler.py\n\u2502  \u251c\u2500 common/            # Shared code\n\u2502  \u2502  \u2514\u2500 prompts/        # Reusable prompts\n\u2502  \u2514\u2500 runners/           # Agent runners\n\u2502     \u251c\u2500 defs.py         # Common runner definitions\n\u2502     \u2514\u2500 my_agent.py     # Agent-specific runner\n\u2514\u2500 README.md             # Project documentation\n"})}),"\n",(0,a.jsxs)(n.p,{children:["This structure is automatically created by the ",(0,a.jsx)(n.code,{children:"startproject"})," command and expanded by the ",(0,a.jsx)(n.code,{children:"create agent"})," command."]}),"\n",(0,a.jsx)(n.h2,{id:"templates-system",children:"Templates System"}),"\n",(0,a.jsx)(n.p,{children:"The CLI utilizes a templates system for generating boilerplate code when creating projects and agents:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'template_dir = Path(__file__).parent.parent / "templates" / "agent"\nrunner_template_dir = Path(__file__).parent.parent / "templates" / "runner"\n\n# Copy and customize templates\nfor template_file in template_dir.glob("*"):\n    if template_file.is_file():\n        target_file = agent_dir / template_file.name\n        with open(template_file) as src, open(target_file, "w") as dst:\n            content = src.read()\n            # Replace placeholders\n            content = content.replace("{{agent_identifier}}", agent_identifier)\n            content = content.replace("{{agent_name}}", name)\n            dst.write(content)\n'})}),"\n",(0,a.jsx)(n.p,{children:"The templates include:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Agent Templates"}),": Basic agent structure with flow definitions and input handlers"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Runner Templates"}),": Runner configurations for executing agents"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Consistent Command Structure"}),": Follow the established pattern of command registration"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Descriptive Help Text"}),": Provide clear, concise help for all commands and options"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Isolated Async Execution"}),": Use the ",(0,a.jsx)(n.code,{children:"IsolatedExecution"})," context for running agents"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Error Handling"}),": Implement proper error handling and reporting"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"User Feedback"}),": Provide clear feedback about command progress and results"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["To learn more about extending the CLI with custom commands, see the ",(0,a.jsx)(n.a,{href:"/dhenara-agent/cli/extending",children:"Extending the CLI"})," guide."]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var i=t(6540);const a={},r=i.createContext(a);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);