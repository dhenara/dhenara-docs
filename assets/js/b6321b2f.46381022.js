"use strict";(self.webpackChunkdhenara_docs=self.webpackChunkdhenara_docs||[]).push([[7233],{8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var a=r(6540);const t={},i=a.createContext(t);function s(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(i.Provider,{value:n},e.children)}},9664:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"dhenara-ai/guides/artifacts-and-debugging","title":"Artifacts & Debugging","description":"Dhenara can capture debug artifacts per model call:","source":"@site/docs/dhenara-ai/guides/artifacts-and-debugging.md","sourceDirName":"dhenara-ai/guides","slug":"/dhenara-ai/guides/artifacts-and-debugging","permalink":"/dhenara-ai/guides/artifacts-and-debugging","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Artifacts & Debugging"},"sidebar":"dhenaraAiSidebar","previous":{"title":"Tools & Function Calling","permalink":"/dhenara-ai/guides/tools-and-function-calling"}}');var t=r(4848),i=r(8453);const s={title:"Artifacts & Debugging"},l="Artifacts & Debugging",o={},c=[{value:"Enable artifacts for a call",id:"enable-artifacts-for-a-call",level:2},{value:"Where artifacts are written",id:"where-artifacts-are-written",level:2},{value:"Capture Python logs (optional)",id:"capture-python-logs-optional",level:2},{value:"Recommended usage",id:"recommended-usage",level:2},{value:"See runnable examples",id:"see-runnable-examples",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"artifacts--debugging",children:"Artifacts & Debugging"})}),"\n",(0,t.jsxs)(n.p,{children:["Dhenara can capture ",(0,t.jsx)(n.em,{children:"debug artifacts per model call"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The normalized Dhenara request (prompt/messages/instructions + call config)"}),"\n",(0,t.jsx)(n.li,{children:"The provider-formatted request"}),"\n",(0,t.jsx)(n.li,{children:"The raw provider response"}),"\n",(0,t.jsx)(n.li,{children:"The parsed Dhenara response"}),"\n",(0,t.jsx)(n.li,{children:"Optional Python logs (captured per call)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This makes it much easier to debug provider quirks, reproduce failures, and compare behavior across models."}),"\n",(0,t.jsx)(n.h2,{id:"enable-artifacts-for-a-call",children:"Enable artifacts for a call"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from dhenara.ai import AIModelClient\nfrom dhenara.ai.types import AIModelCallConfig\nfrom dhenara.ai.types.genai.dhenara.request import ArtifactConfig\n\nclient = AIModelClient(\n    model_endpoint=endpoint,\n    config=AIModelCallConfig(\n        streaming=False,\n        artifact_config=ArtifactConfig(\n            enabled=True,\n            artifact_root="./runs/my_debug_run/turn_01",\n            prefix="call_001",\n            capture_dhenara_request=True,\n            capture_provider_request=True,\n            capture_provider_response=True,\n            capture_dhenara_response=True,\n        ),\n    ),\n)\n\nresp = client.generate(prompt="Write a short spec for a CLI tool")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"where-artifacts-are-written",children:"Where artifacts are written"}),"\n",(0,t.jsx)(n.p,{children:"Artifacts are written under:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"<artifact_root>/<prefix>/dai/"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Each stage is captured as JSON (and optional JSONL for Python logs)."}),"\n",(0,t.jsx)(n.h2,{id:"capture-python-logs-optional",children:"Capture Python logs (optional)"}),"\n",(0,t.jsx)(n.p,{children:"If you want a call-scoped log capture (useful when debugging retries, request translation, parsing, etc.):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from dhenara.ai.types.genai.dhenara.request import ArtifactConfig\n\nArtifactConfig(\n    enabled=True,\n    artifact_root="./runs/my_debug_run/turn_01",\n    enable_python_logs=True,\n    python_log_level="INFO",\n    python_logger_levels={\n        # Example: reduce noise from a chatty logger\n        "httpx": "WARNING",\n    },\n)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"recommended-usage",children:"Recommended usage"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Keep artifacts ",(0,t.jsx)(n.strong,{children:"off"})," by default in production"]}),"\n",(0,t.jsx)(n.li,{children:"Enable them per request when diagnosing issues"}),"\n",(0,t.jsx)(n.li,{children:"Use a structured directory per workflow/turn (makes diffing easier)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"see-runnable-examples",children:"See runnable examples"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"packages/dhenara_ai/examples/16_multi_turn_with_tools_and_messages_api.py"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"packages/dhenara_ai/examples/19_streaming_multi_turn_structured_thinking.py"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);