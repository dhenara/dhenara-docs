"use strict";(self.webpackChunkdhenara_docs=self.webpackChunkdhenara_docs||[]).push([[2016],{3154:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"dhenara-agent/getting-started/core-concepts","title":"Core Concepts","description":"This guide explains the fundamental concepts and building blocks of Dhenara Agent DSL (DAD). Understanding these","source":"@site/docs/dhenara-agent/getting-started/core-concepts.md","sourceDirName":"dhenara-agent/getting-started","slug":"/dhenara-agent/getting-started/core-concepts","permalink":"/dhenara-agent/getting-started/core-concepts","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"dhenaraAgentSidebar","previous":{"title":"Quick Start","permalink":"/dhenara-agent/getting-started/quick-start"},"next":{"title":"Tutorials","permalink":"/dhenara-agent/tutorials/"}}');var t=s(4848),r=s(8453);const o={sidebar_position:3},l="Core Concepts",c={},a=[{value:"Component Hierarchy",id:"component-hierarchy",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Flows",id:"flows",level:3},{value:"Agents",id:"agents",level:3},{value:"Execution Model",id:"execution-model",level:2},{value:"Execution Context",id:"execution-context",level:2},{value:"Event System",id:"event-system",level:2},{value:"Template Engine",id:"template-engine",level:2},{value:"Run System",id:"run-system",level:2},{value:"Observability",id:"observability",level:2},{value:"Resource Management",id:"resource-management",level:2},{value:"Example: Component Relationships",id:"example-component-relationships",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"core-concepts",children:"Core Concepts"})}),"\n",(0,t.jsx)(n.p,{children:"This guide explains the fundamental concepts and building blocks of Dhenara Agent DSL (DAD). Understanding these\nconcepts will help you design and build effective agent systems."}),"\n",(0,t.jsx)(n.h2,{id:"component-hierarchy",children:"Component Hierarchy"}),"\n",(0,t.jsx)(n.p,{children:"DAD uses a hierarchical component model with three main types of components:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Agent\n \u251c\u2500\u2500 Flow 1\n \u2502    \u251c\u2500\u2500 Node A\n \u2502    \u251c\u2500\u2500 Node B\n \u2502    \u2514\u2500\u2500 Subflow\n \u2502         \u251c\u2500\u2500 Node C\n \u2502         \u2514\u2500\u2500 Node D\n \u251c\u2500\u2500 Flow 2\n \u2502    \u251c\u2500\u2500 Node E\n \u2502    \u2514\u2500\u2500 Node F\n \u2514\u2500\u2500 Subagent\n      \u2514\u2500\u2500 Flow 3\n           \u251c\u2500\u2500 Node G\n           \u2514\u2500\u2500 Node H\n"})}),"\n",(0,t.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,t.jsx)(n.p,{children:"Nodes are the atomic units of execution in DAD. Each node performs a specific task such as:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Making an LLM API call"}),"\n",(0,t.jsx)(n.li,{children:"Analyzing files or folders"}),"\n",(0,t.jsx)(n.li,{children:"Performing file operations"}),"\n",(0,t.jsx)(n.li,{children:"Executing shell commands"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Nodes are the leaf components in the hierarchy and do the actual work in an agent system."}),"\n",(0,t.jsx)(n.h3,{id:"flows",children:"Flows"}),"\n",(0,t.jsx)(n.p,{children:"Flows are collections of nodes that define execution logic. They determine how data moves between nodes and in what\norder nodes are executed. Flows can include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sequential execution of nodes"}),"\n",(0,t.jsx)(n.li,{children:"Conditional branches based on results"}),"\n",(0,t.jsx)(n.li,{children:"Loops for iterative processing"}),"\n",(0,t.jsx)(n.li,{children:"Nested subflows for modular design"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"agents",children:"Agents"}),"\n",(0,t.jsx)(n.p,{children:"Agents are top-level components that can contain multiple flows and other agents (subagents). They represent complete\nfunctional units and orchestrate the overall behavior of the system."}),"\n",(0,t.jsx)(n.h2,{id:"execution-model",children:"Execution Model"}),"\n",(0,t.jsx)(n.p,{children:"Execution in DAD follows a clear separation between definition (what to do) and execution (how to do it):"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Definition Classes"}),": ",(0,t.jsx)(n.code,{children:"NodeDefinition"}),", ",(0,t.jsx)(n.code,{children:"FlowDefinition"}),", ",(0,t.jsx)(n.code,{children:"AgentDefinition"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Executable Classes"}),": ",(0,t.jsx)(n.code,{children:"ExecutableNode"}),", ",(0,t.jsx)(n.code,{children:"Flow"}),", ",(0,t.jsx)(n.code,{children:"Agent"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Executor Classes"}),": ",(0,t.jsx)(n.code,{children:"NodeExecutor"}),", ",(0,t.jsx)(n.code,{children:"FlowExecutor"}),", ",(0,t.jsx)(n.code,{children:"AgentExecutor"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This separation allows for flexible composition and customization while maintaining consistent execution behavior."}),"\n",(0,t.jsx)(n.h2,{id:"execution-context",children:"Execution Context"}),"\n",(0,t.jsx)(n.p,{children:"The execution context is a crucial concept in DAD. It:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tracks the execution state (pending, running, completed, failed)"}),"\n",(0,t.jsx)(n.li,{children:"Stores results from executed nodes"}),"\n",(0,t.jsx)(n.li,{children:"Manages hierarchical variable scoping"}),"\n",(0,t.jsx)(n.li,{children:"Provides access to resources (e.g., LLM models)"}),"\n",(0,t.jsx)(n.li,{children:"Enables communication between components through events"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The execution context creates a hierarchical structure that mirrors the component hierarchy, allowing child components\nto access resources and results from their parent contexts."}),"\n",(0,t.jsx)(n.h2,{id:"event-system",children:"Event System"}),"\n",(0,t.jsx)(n.p,{children:"The event system provides a publish-subscribe mechanism for communication between components:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Events"}),": Typed messages with a specific purpose (e.g., ",(0,t.jsx)(n.code,{children:"node_input_required"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Event Handlers"}),": Functions that respond to specific event types"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Event Bus"}),": Central hub for routing events to handlers"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Common event types include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"node_input_required"}),": Request input for a node"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"node_execution_completed"}),": Notify when a node finishes execution"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"node_execution_failed"}),": Notify when a node encounters an error"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"template-engine",children:"Template Engine"}),"\n",(0,t.jsx)(n.p,{children:"The template engine is a powerful feature of DAD that allows for dynamic text generation and processing:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Variable Substitution"}),": Replace ",(0,t.jsx)(n.code,{children:"$var{name}"})," with the value of a variable"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Expression Evaluation"}),": Evaluate expressions like ",(0,t.jsx)(n.code,{children:"$expr{1 + 2}"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hierarchical References"}),": Access results from other nodes using ",(0,t.jsx)(n.code,{children:"$hier{node_id.property}"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Python Expressions"}),": Evaluate Python code with ",(0,t.jsx)(n.code,{children:"$expr{py: len(items)}"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The template engine makes it easy to build dynamic prompts, process responses, and coordinate between components."}),"\n",(0,t.jsx)(n.h2,{id:"run-system",children:"Run System"}),"\n",(0,t.jsx)(n.p,{children:"The run system manages the execution environment for DAD components:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"RunContext"}),": Manages run directories, artifacts, and settings"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IsolatedExecution"}),": Provides isolation between runs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Run Lifecycle"}),": Initialize, setup, execute, manage artifacts, and complete"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The run system ensures reproducibility and proper resource management across different runs."}),"\n",(0,t.jsx)(n.h2,{id:"observability",children:"Observability"}),"\n",(0,t.jsx)(n.p,{children:"Observability is a core feature of DAD that provides visibility into execution:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tracing"}),": Track the execution path of components and nodes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Logging"}),": Capture structured logs with context"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Metrics"}),": Collect numerical data about execution"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Dashboards"}),": Visualize traces and metrics for analysis"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Observability helps debug issues, optimize performance, and understand complex agent behaviors."}),"\n",(0,t.jsx)(n.h2,{id:"resource-management",children:"Resource Management"}),"\n",(0,t.jsx)(n.p,{children:"DAD provides a flexible system for managing AI model resources and API credentials:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ResourceConfig"}),": Configure models, endpoints, and credentials"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ResourceRegistry"}),": Register and override resources"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Thread-Local Resources"}),": Isolate resources between threads"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Resource management makes it easier to work with different LLM providers and models while maintaining security and\nconfigurability."}),"\n",(0,t.jsx)(n.h2,{id:"example-component-relationships",children:"Example: Component Relationships"}),"\n",(0,t.jsx)(n.p,{children:"Here's how these concepts work together in a simple DAD agent:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Define a flow with nodes\nmy_flow = FlowDefinition()\nmy_flow.node("analyzer", FolderAnalyzerNode(...))\nmy_flow.node("processor", AIModelNode(...))\n\n# Define an agent with flows\nmy_agent = AgentDefinition()\nmy_agent.flow("main_flow", my_flow)\n\n# Create run context for execution\nrun_context = RunContext(\n    root_component_id="my_agent",\n    project_root=Path("."),\n)\n\n# Run the agent\nrunner = AgentRunner(my_agent, run_context)\nrunner.setup_run()\nresult = await runner.run()\n'})}),"\n",(0,t.jsx)(n.p,{children:"In this example:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The flow contains two nodes that execute in sequence"}),"\n",(0,t.jsx)(n.li,{children:"The agent contains the flow and potentially other flows"}),"\n",(0,t.jsx)(n.li,{children:"The run context provides the execution environment"}),"\n",(0,t.jsx)(n.li,{children:"The runner handles the execution process"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"Now that you understand the core concepts of DAD, you can:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Explore the ",(0,t.jsx)(n.a,{href:"../architecture/overview",children:"Architecture"})," in more detail"]}),"\n",(0,t.jsxs)(n.li,{children:["Learn about specific ",(0,t.jsx)(n.a,{href:"../components/nodes",children:"Node Types"})," and their capabilities"]}),"\n",(0,t.jsxs)(n.li,{children:["Understand how to use ",(0,t.jsx)(n.a,{href:"../components/flows",children:"Flows"})," and ",(0,t.jsx)(n.a,{href:"../components/agents",children:"Agents"})]}),"\n",(0,t.jsxs)(n.li,{children:["Dive deeper into the ",(0,t.jsx)(n.a,{href:"../features/templating-system",children:"Templating System"})," and\n",(0,t.jsx)(n.a,{href:"../advanced-guides/event-system",children:"Event System"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(6540);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);