"use strict";(self.webpackChunkdhenara_docs=self.webpackChunkdhenara_docs||[]).push([[5578],{8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(6540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}},8815:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"dhenara-ai/features/type-safety","title":"Type Safety","description":"Dhenara is designed with strong type safety principles at its core, ensuring robust and predictable behavior when","source":"@site/docs/dhenara-ai/features/type-safety.md","sourceDirName":"dhenara-ai/features","slug":"/dhenara-ai/features/type-safety","permalink":"/dhenara-ai/features/type-safety","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Type Safety"},"sidebar":"dhenaraAiSidebar","previous":{"title":"Streaming Simplified","permalink":"/dhenara-ai/features/streaming-simplified"},"next":{"title":"Reasoning","permalink":"/dhenara-ai/features/reasoning"}}');var a=t(4848),i=t(8453);const r={title:"Type Safety"},o="Type Safety and Unified Response Format",d={},c=[{value:"Type Safety with Pydantic",id:"type-safety-with-pydantic",level:2},{value:"Key Benefits of Dhenara&#39;s Type System",id:"key-benefits-of-dhenaras-type-system",level:3},{value:"Enumerations",id:"enumerations",level:3},{value:"Unified Response Data Format",id:"unified-response-data-format",level:2},{value:"Consistent Response Structure",id:"consistent-response-structure",level:3},{value:"Unified Content Items",id:"unified-content-items",level:3},{value:"Standardized Streaming Support",id:"standardized-streaming-support",level:3},{value:"Unified Usage and Cost Tracking",id:"unified-usage-and-cost-tracking",level:3},{value:"Practical takeaway",id:"practical-takeaway",level:2},{value:"Next steps",id:"next-steps",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"type-safety-and-unified-response-format",children:"Type Safety and Unified Response Format"})}),"\n",(0,a.jsx)(n.p,{children:"Dhenara is designed with strong type safety principles at its core, ensuring robust and predictable behavior when\nworking with AI models. This page explains our approach to type safety and unified response formats, and how this\nbenefits your development workflow."}),"\n",(0,a.jsx)(n.h2,{id:"type-safety-with-pydantic",children:"Type Safety with Pydantic"}),"\n",(0,a.jsx)(n.p,{children:"Dhenara uses Pydantic models throughout the library for both requests and responses. This gives you:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Strong runtime validation"}),"\n",(0,a.jsx)(n.li,{children:"Autocomplete/type hints in your IDE"}),"\n",(0,a.jsx)(n.li,{children:"A consistent response shape across providers"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"key-benefits-of-dhenaras-type-system",children:"Key Benefits of Dhenara's Type System"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Early Error Detection"}),": Invalid data structures are caught immediately during object creation, not when trying to\nuse the data."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Self-Documenting Code"}),": The type definitions serve as documentation, making it clear what data is expected."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"IDE Support"}),": Get autocompletion and type hints in your IDE, making development faster and more efficient."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Runtime Safety"}),": Prevent unexpected errors from propagating through your application."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"enumerations",children:"Enumerations"}),"\n",(0,a.jsx)(n.p,{children:"Provider/model \u201cenums\u201d are real types (not stringly-typed constants), which keeps configs consistent."}),"\n",(0,a.jsx)(n.h2,{id:"unified-response-data-format",children:"Unified Response Data Format"}),"\n",(0,a.jsx)(n.p,{children:"One of Dhenara's standout features is its unified response format across all AI providers, making it simple to switch\nbetween models or use multiple models in the same application."}),"\n",(0,a.jsx)(n.h3,{id:"consistent-response-structure",children:"Consistent Response Structure"}),"\n",(0,a.jsx)(n.p,{children:"Whether you're using OpenAI, Google AI, Anthropic, or any other provider, the response structure remains consistent:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'response = client.generate(prompt="Say hello")\nchat = response.chat_response\n\nif chat:\n    print(chat.text())\n    print(chat.reasoning())\n    print(chat.structured())\n    print(chat.tools())\n'})}),"\n",(0,a.jsx)(n.h3,{id:"unified-content-items",children:"Unified Content Items"}),"\n",(0,a.jsx)(n.p,{children:"All AI model responses are normalized into standardized content item types:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ChatResponseTextContentItem"})," - For standard text responses"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ChatResponseReasoningContentItem"})," - For model reasoning/thinking"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ChatResponseStructuredOutputContentItem"})," - For structured JSON outputs (validated)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ChatResponseToolCallContentItem"})," - For tool/function calls"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ImageResponseContentItem"})," - For generated images"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This means you can process responses without worrying about provider-specific formats:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from dhenara.ai.types.genai.dhenara.response import ChatResponseContentItemType\n\nchat = response.chat_response\nif chat:\n    for choice in chat.choices:\n        for content in choice.contents or []:\n            if content.type == ChatResponseContentItemType.TEXT:\n                print(content.get_text())\n            elif content.type == ChatResponseContentItemType.REASONING:\n                print("Reasoning:", content.get_text())\n'})}),"\n",(0,a.jsx)(n.h3,{id:"standardized-streaming-support",children:"Standardized Streaming Support"}),"\n",(0,a.jsx)(n.p,{children:"Dhenara's streaming implementation works the same way across all providers:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from dhenara.ai.types.shared import SSEEventType, SSEResponse\n\nresponse = client.generate(prompt="Stream a short poem")\nfor chunk, final_response in response.stream_generator:\n    if isinstance(chunk, SSEResponse) and chunk.event == SSEEventType.TOKEN_STREAM:\n        for choice_delta in chunk.data.choice_deltas:\n            for content_delta in choice_delta.content_deltas or []:\n                text = content_delta.get_text_delta()\n                if text:\n                    print(text, end="", flush=True)\n\nif final_response and final_response.chat_response:\n    print("\\n\\nFinal:", final_response.chat_response.text())\n'})}),"\n",(0,a.jsx)(n.h3,{id:"unified-usage-and-cost-tracking",children:"Unified Usage and Cost Tracking"}),"\n",(0,a.jsx)(n.p,{children:"Track token usage and costs consistently across providers:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Access usage data the same way for all providers\nif response.chat_response.usage:\n    print(f"Prompt tokens: {response.chat_response.usage.prompt_tokens}")\n    print(f"Completion tokens: {response.chat_response.usage.completion_tokens}")\n    print(f"Total tokens: {response.chat_response.usage.total_tokens}")\n\n    if response.chat_response.usage_charge:\n        print(f"Cost: ${response.chat_response.usage_charge.cost}")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"practical-takeaway",children:"Practical takeaway"}),"\n",(0,a.jsx)(n.p,{children:"You can write one set of response-handling code, then switch providers/models by changing the endpoint \u2014 not the rest of\nyour app."}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,a.jsx)(n.p,{children:"If you want the \u201cfull recipe\u201d patterns (multi-turn, streaming, validation loops, debugging), these guides are the best\nplace to start:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/dhenara-ai/guides/structured-output",children:"Structured Output (Pydantic)"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/dhenara-ai/guides/tools-and-function-calling",children:"Tools & Function Calling"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/dhenara-ai/guides/artifacts-and-debugging",children:"Artifacts & Debugging"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);